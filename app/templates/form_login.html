{% extends 'form.html' %}
{% from 'macros.html' import field, submit %}

{% block title %}{{ _('Sign in - %(site)s'.format(site=config['site_name'])) }}{% endblock %}
{% block body_class %}box_center{% endblock %}
{% block form_title %}{{ _('Sign in') }}{% endblock %}

{% block script %}
var SUBMIT_URL = '{{ url_for('api.user_login') }}';
var LOCK_FORM_AFTER_OK = false;
var REDIRECT_URL = '/';
var SUCCESS_CALLBACK = null;
var OPTIONS = {};
var REALTIME_VALIDATION = false;
{% endblock %}

{% block form %}
{{ field('login_name', _('Login Name'), _('Login Name can be either nickname or email address.'), min=3, max=32, required=true) }}
{{ field('password', _('Password'), _("Your password. Won't be encrypted if not using HTTPS."), type='password', min=1, required=true) }}
{% endblock %}

{% block buttons %}
{{ submit(_('Sign in')) }}
{% endblock %}
